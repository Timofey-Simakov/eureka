# Руководство пользователя Eureka

## Быстрый старт

### Первый вход

1. Откройте приложение в браузере: http://localhost:8082
2. Войдите с учетными данными администратора из файла `.env`:
   - Email: `admin@local` (или ваш ADMIN_EMAIL)
   - Password: ваш ADMIN_PASSWORD

### Регистрация нового пользователя

1. На странице входа нажмите "Зарегистрироваться"
2. Заполните форму:
   - Email (обязательно)
   - Пароль (минимум 6 символов)
   - Подтверждение пароля
3. После успешной регистрации вы будете перенаправлены на страницу входа

---

## Основные функции

### Главная страница (Список страниц)

**Как создать новую страницу:**
1. Нажмите кнопку "Создать страницу" (синяя кнопка справа)
2. В открывшемся модальном окне введите название страницы
3. Нажмите "Создать"
4. Вы будете автоматически перенаправлены в редактор

**Как найти страницу:**
- Используйте поле поиска в верхней части списка
- Начните вводить название страницы
- Список автоматически отфильтруется (поиск с задержкой 500мс)

**Как открыть страницу:**
- Кликните на название страницы в списке
- Или нажмите кнопку "Редактировать" (иконка карандаша)

**Как удалить страницу:**
1. Нажмите кнопку "Удалить" (красная кнопка с иконкой корзины)
2. Подтвердите удаление в диалоговом окне браузера

**Пустой список:**
- Если у вас еще нет страниц, вы увидите подсказку "Создайте первую страницу"

---

### Редактор страниц

#### Основы редактирования

**Интерфейс редактора:**
- Верхняя часть: поле для названия страницы
- Панель инструментов: кнопки форматирования Markdown
- Редактор: текстовая область для контента
- Превью: живой предпросмотр отформатированного текста справа

**Автосохранение:**
- Ваши изменения автоматически сохраняются через 2 секунды после последнего редактирования
- Индикатор статуса показывает:
  - "Есть изменения" - есть несохраненные изменения
  - "Сохранение..." - идет процесс сохранения
  - "Сохранено" - все изменения сохранены

#### Горячие клавиши

| Комбинация | Действие |
|------------|----------|
| `Ctrl + S` (или `Cmd + S`) | Сохранить страницу немедленно |
| `Ctrl + B` | Сделать текст жирным |
| `Ctrl + I` | Сделать текст курсивом |
| `Ctrl + K` | Вставить ссылку |

#### Панель форматирования

**Заголовки:**
- H1 - Заголовок первого уровня
- H2 - Заголовок второго уровня
- H3 - Заголовок третьего уровня

**Форматирование текста:**
- **B** - Жирный текст
- *I* - Курсив
- ~~S~~ - Зачеркнутый текст

**Списки:**
- Маркированный список
- Нумерованный список

**Вставка элементов:**
- **Link** - Вставить ссылку
- **Img** - Вставить изображение
- **Code** - Вставить блок кода
- **Quote** - Вставить цитату
- **HR** - Вставить горизонтальную линию

#### Синтаксис Markdown

```markdown
# Заголовок 1
## Заголовок 2
### Заголовок 3

**Жирный текст**
*Курсив*
~~Зачеркнутый~~

- Пункт списка 1
- Пункт списка 2

1. Нумерованный пункт 1
2. Нумерованный пункт 2

[Текст ссылки](https://example.com)
![Альт текст](https://example.com/image.jpg)

`Встроенный код`

```код
Блок кода
```

> Цитата

---
```

#### Кнопки действий

- **Сохранить** - Сохранить изменения немедленно (также доступно через Ctrl+S)
- **Назад** - Вернуться к списку страниц

---

### Граф связей

**Как открыть граф:**
- Нажмите кнопку "Граф" в навигационном меню

**Что показывает граф:**
- Каждая страница отображается как узел (круг) с названием
- Линии между узлами показывают связи (упоминания одной страницы в другой)
- Размер узла зависит от количества связей

**Управление графом:**
- **Перемещение**: Кликните и перетащите в любое место для панорамирования
- **Масштабирование**: Используйте колесико мыши для приближения/отдаления
- **Переход к странице**: Кликните на узел, чтобы открыть страницу в редакторе
- **Подсветка**: Наведите курсор на узел для выделения

**Цвета узлов:**
- Синий - обычные страницы
- При наведении - оранжевый

---

## Уведомления (Toast)

Система показывает всплывающие уведомления в правом верхнем углу экрана:

- **Зеленые (Success)**: Успешные операции (страница создана, сохранена)
- **Красные (Error)**: Ошибки (не удалось сохранить, ошибка сервера)
- **Синие (Info)**: Информационные сообщения
- **Оранжевые (Warning)**: Предупреждения (пустое поле, требуется действие)

Уведомления автоматически исчезают через 5 секунд или можно закрыть кликом на крестик.

---

## Советы и рекомендации

### Организация знаний

1. **Используйте описательные названия**: Например, "React Hooks - useState" вместо "заметка1"
2. **Создавайте связи**: Упоминайте другие страницы в тексте для построения графа знаний
3. **Используйте заголовки**: Структурируйте большие страницы с помощью H1, H2, H3
4. **Добавляйте примеры кода**: Используйте блоки кода для технических заметок

### Работа с редактором

1. **Не бойтесь потерять данные**: Автосохранение работает надежно
2. **Используйте горячие клавиши**: Они значительно ускоряют работу
3. **Проверяйте превью**: Убедитесь, что Markdown отформатирован правильно
4. **Следите за индикатором**: "Сохранено" = можно спокойно закрыть страницу

### Поиск и навигация

1. **Используйте поиск**: Быстрее, чем скроллинг списка
2. **Граф для обзора**: Используйте граф, чтобы увидеть всю картину знаний
3. **Кликайте по узлам**: Быстрый переход к связанным страницам

---

## Часто задаваемые вопросы

**В: Как создать связь между страницами?**
О: Просто упомяните название другой страницы в тексте. Система автоматически создаст связь, которая отобразится в графе.

**В: Могу ли я использовать HTML в Markdown?**
О: Нет, HTML фильтруется для безопасности (защита от XSS атак).

**В: Как долго хранится сессия?**
О: JWT токен действителен 24 часа. После этого нужно войти заново.

**В: Можно ли экспортировать данные?**
О: В текущей версии (2.1) функция экспорта находится в разработке. См. roadmap в IMPROVEMENTS.md.

**В: Поддерживается ли мобильная версия?**
О: Да, интерфейс адаптивен и работает на мобильных устройствах, но лучше всего работает на десктопе.

**В: Можно ли загружать изображения?**
О: В текущей версии поддерживаются только ссылки на внешние изображения. Загрузка планируется в будущих версиях.

**В: Что делать, если страница не сохраняется?**
О:
1. Проверьте подключение к интернету
2. Откройте консоль разработчика (F12) и проверьте ошибки
3. Убедитесь, что API сервер работает (http://localhost:8081/healthz должен вернуть "ok")
4. Попробуйте перезагрузить страницу

---

## Навигация по приложению

### Главное меню

**Страницы** - Список всех ваших страниц
- Создание новых страниц
- Поиск по названиям
- Редактирование и удаление

**Граф** - Визуализация связей между страницами
- Интерактивный граф
- Переход к страницам
- Обзор структуры знаний

**Выход** - Выход из системы
- Удаляет токен авторизации
- Перенаправляет на страницу входа

---

## Безопасность

### Пароли
- Минимальная длина: 6 символов
- Хешируются с использованием bcrypt
- Никогда не хранятся в открытом виде

### Сессии
- JWT токены с 24-часовым сроком действия
- Автоматический выход при истечении токена
- Безопасная передача через HTTPS (в продакшене)

### Данные
- XSS защита через DOMPurify
- SQL injection защита через параметризованные запросы
- Валидация на клиенте и сервере

---

## Производительность

### Оптимизации
- **Debouncing**: Поиск и автосохранение не перегружают сервер
- **Мemoization**: Граф перерисовывается только при изменении данных
- **Code splitting**: Быстрая загрузка приложения

### Рекомендации
- Используйте поиск вместо скроллинга большого списка
- Не создавайте слишком большие страницы (рекомендуется до 10000 символов)
- Периодически очищайте неиспользуемые страницы

---

## Поддержка

**Документация:**
- [README.md](README.md) - Техническая документация для разработчиков
- [IMPROVEMENTS.md](IMPROVEMENTS.md) - Список изменений и roadmap

**Проблемы:**
- Проверьте раздел "Troubleshooting" в README.md
- Откройте issue на GitHub (если доступен)

**Версия:**
- Текущая версия: 2.1
- Дата обновления: 22 октября 2025

---

Приятного использования Eureka! 🎉
